<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <meta name="turbo-root" content="/docs">
    <meta name="turbo-cache-control" content="no-cache" data-turbo-track="reload" data-track-token="3.6.0.787788448286">

    <!-- See retype.com -->
    <meta name="generator" content="Retype 3.6.0">

    <!-- Primary Meta Tags -->
    <title>Janushash made simple</title>
    <meta name="title" content="Janushash made simple">
    <meta name="description" content="The theory behind Warthog's Proof of Balanced Work and specifically the Janushash algorithm is dry and difficult to grasp.">

    <!-- Canonical -->
    <link rel="canonical" href="https://www.warthog.network/docs/janushash/highlevel/">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://www.warthog.network/docs/janushash/highlevel/">
    <meta property="og:title" content="Janushash made simple">
    <meta property="og:description" content="The theory behind Warthog's Proof of Balanced Work and specifically the Janushash algorithm is dry and difficult to grasp.">

    <!-- Twitter -->
    <meta property="twitter:card" content="summary_large_image">
    <meta property="twitter:url" content="https://www.warthog.network/docs/janushash/highlevel/">
    <meta property="twitter:title" content="Janushash made simple">
    <meta property="twitter:description" content="The theory behind Warthog's Proof of Balanced Work and specifically the Janushash algorithm is dry and difficult to grasp.">

    <script data-cfasync="false">(function () { var el = document.documentElement, m = localStorage.getItem("doc_theme"), wm = window.matchMedia; if (m === "dark" || (!m && wm && wm("(prefers-color-scheme: dark)").matches)) { el.classList.add("dark") } else { el.classList.remove("dark") } })();</script>

    <link href="../../resources/css/retype.css?v=3.6.0.787788448286" rel="stylesheet">

    <script data-cfasync="false" src="../../resources/js/config.js?v=3.6.0.787788448286" data-turbo-eval="false" defer></script>
    <script data-cfasync="false" src="../../resources/js/retype.js?v=3.6.0" data-turbo-eval="false" defer></script>
    <script id="lunr-js" data-cfasync="false" src="../../resources/js/lunr.js?v=3.6.0.787788448286" data-turbo-eval="false" defer></script>
</head>
<body>
    <div id="docs-app" class="relative text-base antialiased text-gray-700 bg-white font-body dark:bg-dark-850 dark:text-dark-300">
        <div class="absolute bottom-0 left-0 bg-gray-100 dark:bg-dark-800" style="top: 5rem; right: 50%"></div>
    
        <header id="docs-site-header" class="sticky top-0 z-30 flex w-full h-16 bg-white border-b border-gray-200 md:h-20 dark:bg-dark-850 dark:border-dark-650">
            <div class="container relative flex items-center justify-between pr-6 grow md:justify-start">
                <!-- Mobile menu button skeleton -->
                <button v-cloak class="skeleton docs-mobile-menu-button flex items-center justify-center shrink-0 overflow-hidden dark:text-white focus:outline-none rounded-full w-10 h-10 ml-3.5 md:hidden"><svg xmlns="http://www.w3.org/2000/svg" class="mb-px shrink-0" width="24" height="24" viewBox="0 0 24 24" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor"><path d="M2 4h20v2H2zM2 11h20v2H2zM2 18h20v2H2z"></path></g></svg></button>
                <div v-cloak id="docs-sidebar-toggle"></div>
        
                <!-- Logo -->
                <div class="flex items-center justify-between h-full py-2 md:w-75">
                    <div class="flex items-center px-2 md:px-6">
                        <a id="docs-site-logo" href="../../" class="flex items-center leading-snug text-xl">
                            <span class="w-10 mr-2 grow-0 shrink-0 overflow-hidden">
                                <img class="max-h-10 dark:hidden md:inline-block" src="../../img/warthog_logo.png">
                                <img class="max-h-10 hidden dark:inline-block" src="../../img/warthog_logo.png">
                            </span>
                            <span class="dark:text-white font-semibold line-clamp-1 md:line-clamp-2">Warthog Network</span>
                        </a><span class="hidden px-2 py-1 ml-4 text-sm font-semibold leading-none text-root-logo-label-text bg-root-logo-label-bg rounded-sm md:inline-block">Docs</span>
                    </div>
        
                    <span class="hidden h-8 border-r md:inline-block dark:border-dark-650"></span>
                </div>
        
                <div class="flex justify-between md:grow">
                    <!-- Top Nav -->
                    <nav class="hidden md:flex">
                        <ul class="flex flex-col mb-4 md:pl-16 md:mb-0 md:flex-row md:items-center">
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="http://warthog.network/">Warthog Website</a>
                            </li>
                            <li class="mr-6">
                                <a class="py-2 md:mb-0 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/warthog-network">GitHub</a>
                            </li>
        
                        </ul>
                    </nav>
        
                    <!-- Header Right Skeleton -->
                    <div v-cloak class="flex justify-end grow skeleton">
        
                        <!-- Search input mock -->
                        <div class="relative hidden w-40 lg:block lg:max-w-sm lg:ml-auto">
                            <div class="absolute flex items-center justify-center h-full pl-3 dark:text-dark-300">
                                <svg xmlns="http://www.w3.org/2000/svg" class="icon-base" width="16" height="16" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 1px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                            </div>
                            <input class="w-full h-10 placeholder-gray-400 transition-colors duration-200 ease-in bg-gray-200 border border-transparent rounded md:text-sm hover:bg-white hover:border-gray-300 focus:outline-none focus:bg-white focus:border-gray-500 dark:bg-dark-600 dark:border-dark-600 dark:placeholder-dark-400" style="padding: 0.625rem 0.75rem 0.625rem 2rem" type="text" placeholder="Search">
                        </div>
        
                        <!-- Mobile search button -->
                        <div class="flex items-center justify-center w-10 h-10 lg:hidden">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="20" height="20" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><path d="M21.71 20.29l-3.68-3.68A8.963 8.963 0 0020 11c0-4.96-4.04-9-9-9s-9 4.04-9 9 4.04 9 9 9c2.12 0 4.07-.74 5.61-1.97l3.68 3.68c.2.19.45.29.71.29s.51-.1.71-.29c.39-.39.39-1.03 0-1.42zM4 11c0-3.86 3.14-7 7-7s7 3.14 7 7c0 1.92-.78 3.66-2.04 4.93-.01.01-.02.01-.02.01-.01.01-.01.01-.01.02A6.98 6.98 0 0111 18c-3.86 0-7-3.14-7-7z" ></path></g></svg>
                        </div>
        
                        <!-- Dark mode switch placeholder -->
                        <div class="w-10 h-10 lg:ml-2"></div>
        
                        <!-- History button -->
                        <div class="flex items-center justify-center w-10 h-10" style="margin-right: -0.625rem;">
                            <svg xmlns="http://www.w3.org/2000/svg" class="shrink-0 icon-base" width="22" height="22" viewBox="0 0 24 24" aria-labelledby="icon" role="presentation" style="margin-bottom: 0px;"><g fill="currentColor" ><g ><path d="M12.01 6.01c-.55 0-1 .45-1 1V12a1 1 0 00.4.8l3 2.22a.985.985 0 001.39-.2.996.996 0 00-.21-1.4l-2.6-1.92V7.01c.02-.55-.43-1-.98-1z"></path><path d="M12.01 1.91c-5.33 0-9.69 4.16-10.05 9.4l-.29-.26a.997.997 0 10-1.34 1.48l1.97 1.79c.19.17.43.26.67.26s.48-.09.67-.26l1.97-1.79a.997.997 0 10-1.34-1.48l-.31.28c.34-4.14 3.82-7.41 8.05-7.41 4.46 0 8.08 3.63 8.08 8.09s-3.63 8.08-8.08 8.08c-2.18 0-4.22-.85-5.75-2.4a.996.996 0 10-1.42 1.4 10.02 10.02 0 007.17 2.99c5.56 0 10.08-4.52 10.08-10.08.01-5.56-4.52-10.09-10.08-10.09z"></path></g></g></svg>
                        </div>
                    </div>
        
                    <div v-cloak class="flex justify-end grow">
                        <div id="docs-mobile-search-button"></div>
                        <doc-search-desktop></doc-search-desktop>
        
                        <doc-theme-switch class="lg:ml-2"></doc-theme-switch>
                        <doc-history></doc-history>
                    </div>
                </div>
            </div>
        </header>
    
        <div class="container relative flex bg-white">
            <!-- Sidebar Skeleton -->
            <div v-cloak class="fixed flex flex-col shrink-0 duration-300 ease-in-out bg-gray-100 border-gray-200 sidebar top-20 w-75 border-r h-screen md:sticky transition-transform skeleton dark:bg-dark-800 dark:border-dark-650">
            
                <!-- Render this div, if config.showSidebarFilter is `true` -->
                <div class="flex items-center h-16 px-6">
                    <input class="w-full h-8 px-3 py-2 transition-colors duration-200 ease-linear bg-white border border-gray-200 rounded shadow-none text-sm focus:outline-none focus:border-gray-600 dark:bg-dark-600 dark:border-dark-600" type="text" placeholder="Filter">
                </div>
            
                <div class="pl-6 mt-1 mb-4">
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-32 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-48 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                    <div class="w-40 h-3 mb-4 bg-gray-200 rounded-full loading dark:bg-dark-600"></div>
                </div>
            
                <div class="shrink-0 mt-auto bg-transparent dark:border-dark-650">
                    <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                        <span class="text-xs whitespace-nowrap">Powered by</span>
                        <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                    </a>
                </div>
            </div>
            
            <!-- Sidebar component -->
            <doc-sidebar v-cloak>
                <template #sidebar-footer>
                    <div class="shrink-0 mt-auto border-t md:bg-transparent md:border-none dark:border-dark-650">
            
                        <div class="py-3 px-6 md:hidden border-b dark:border-dark-650">
                            <nav>
                                <ul class="flex flex-wrap justify-center items-center">
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="http://warthog.network/">Warthog Website</a>
                                    </li>
                                    <li class="mr-6">
                                        <a class="block py-1 inline-flex items-center text-sm whitespace-nowrap transition-colors duration-200 ease-linear md:text-blue-500 dark:text-blue-400 hover:text-blue-800 dark:hover:text-blue-200" href="https://github.com/warthog-network">GitHub</a>
                                    </li>
            
                                </ul>
                            </nav>
                        </div>
            
                        <a class="flex items-center justify-center flex-nowrap h-16 text-gray-400 dark:text-dark-400 hover:text-gray-700 dark:hover:text-dark-300 transition-colors duration-150 ease-in docs-powered-by" target="_blank" href="https://retype.com/" rel="noopener">
                            <span class="text-xs whitespace-nowrap">Powered by</span>
                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-2" fill="currentColor" width="96" height="20" overflow="visible"><path d="M0 0v20h13.59V0H0zm11.15 17.54H2.44V2.46h8.71v15.08zM15.8 20h2.44V4.67L15.8 2.22zM20.45 6.89V20h2.44V9.34z"/><g><path d="M40.16 8.44c0 1.49-.59 2.45-1.75 2.88l2.34 3.32h-2.53l-2.04-2.96h-1.43v2.96h-2.06V5.36h3.5c1.43 0 2.46.24 3.07.73s.9 1.27.9 2.35zm-2.48 1.1c.26-.23.38-.59.38-1.09 0-.5-.13-.84-.4-1.03s-.73-.28-1.39-.28h-1.54v2.75h1.5c.72 0 1.2-.12 1.45-.35zM51.56 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92h4.74v1.83h-6.79V5.36h6.64zM60.09 7.15v7.48h-2.06V7.15h-2.61V5.36h7.28v1.79h-2.61zM70.81 14.64h-2.06v-3.66l-3.19-5.61h2.23l1.99 3.45 1.99-3.45H74l-3.19 5.61v3.66zM83.99 6.19c.65.55.97 1.4.97 2.55s-.33 1.98-1 2.51-1.68.8-3.04.8h-1.23v2.59h-2.06V5.36h3.26c1.42 0 2.45.28 3.1.83zm-1.51 3.65c.25-.28.37-.69.37-1.22s-.16-.92-.48-1.14c-.32-.23-.82-.34-1.5-.34H79.7v3.12h1.38c.68 0 1.15-.14 1.4-.42zM95.85 5.36V7.2h-4.59v1.91h4.13v1.76h-4.13v1.92H96v1.83h-6.79V5.36h6.64z"/></g></svg>
                        </a>
                    </div>
                </template>
            </doc-sidebar>
    
            <div class="grow min-w-0 dark:bg-dark-850">
                <!-- Render "toolbar" template here on api pages --><!-- Render page content -->
                <div class="flex">
                    <div class="min-w-0 p-4 grow md:px-16">
                        <main class="relative pb-12 lg:pt-2">
                            <div class="docs-markdown" id="docs-content">
                                <!-- Rendered if sidebar right is enabled -->
                                <div id="docs-sidebar-right-toggle"></div>
                                <!-- Page content  -->
<doc-anchor-target id="janushash-made-simple" class="break-words">
    <h1>
        <doc-anchor-trigger class="header-anchor-trigger" to="#janushash-made-simple">#</doc-anchor-trigger>
        <span>Janushash made simple</span>
    </h1>
</doc-anchor-target>
<p>The theory behind Warthog&#x27;s Proof of Balanced Work and specifically the Janushash algorithm is dry and difficult to grasp. In this post we want to give a high-level understanding on how things work.</p>
<doc-anchor-target id="proof-of-work">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#proof-of-work">#</doc-anchor-trigger>
        <span>Proof of Work</span>
    </h2>
</doc-anchor-target>
<p>Traditionally Proof of Work (PoW) as implemented in Bitcoin and successors allows cryptocurrency protocols to define the &quot;correct&quot; chain. Since real effort needs to be put into mining blocks secured by PoW, attackers cannot create fake alternative chains.</p>
<p>On a high level PoW mining works by trial and error by inserting different inputs into a <em>hash function</em> (also called &quot;mining algorithm&quot;) and hoping for a good output. For every input such a hash function produces an output hash which can be regarded as a number between 0 and 1, and a <em>good</em> output that mines a block can be defined as a very small output number, i.e. very close to 0.
The difficulty can then be seen as a maximal threshold value for hashed number for a valid PoW.</p>
<p>For example, when the difficulty is 0.1, then blocks with an output hash number smaller than 0.1 have valid PoW and can be appended to the chain. Mining would be the process of changing block content and inserting it into the hash function until we end up with a value smaller than 0.1.</p>
<p>Normally the outputs are uniformly random, i.e. you cannot predict what input will produce which output and all outputs are equally likely. As a consequence, in this example around 10% of all possible blocks have valid PoW, in other words, an expected number of 10 blocks need to be hashed by a miner until he finds a block.</p>
<p>More generally, the difficulty controls the fraction of blocks that have valid PoW and the expected number of tries a miner has to do before it mines a block.</p>
<doc-anchor-target id="proof-of-balanced-work">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#proof-of-balanced-work">#</doc-anchor-trigger>
        <span>Proof of Balanced Work</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="basic-idea">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#basic-idea">#</doc-anchor-trigger>
        <span>Basic Idea</span>
    </h3>
</doc-anchor-target>
<p>Instead of using one hash function to generate a number between 0 and 1 we can take many hash functions and multiply their outputs. This gives again a number between 0 and 1 because a product of many numbers between 0 and 1 is again between 0 and 1.</p>
<p>Compared to classical mining, this number will not be uniformly random because values close to 1 are less likely to occur in such a product. Luckily uniform randomness is not required for mining to work. Only for retargeting the difficulty it can make a difference but we show in <a href="https://github.com/CoinFuMasterShifu/ProofOfBalancedWork/blob/main/PoBW.pdf">our paper</a> that in this setting absolutely nothing has to change and the every cryptocurrency would just work normally when their mining algorithm changed from a single hash function to the product of several hash functions.</p>
<doc-anchor-target id="mining-pobw">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#mining-pobw">#</doc-anchor-trigger>
        <span>Mining PoBW</span>
    </h3>
</doc-anchor-target>
<p>Mining such a product is a bit different from classical mining: Assuming that the involved hash functions are computed in parallel at fixed possibly different hash rates, it makes sense to use a <em>filtering approach</em> during mining, i.e. to start with the fastest hash function and only compute the second fastest hash function on the candidates with most promising fastest hash function result, then compute the third fastest hash function only on the candidates with most promising second fastest hash result etc. It can be shown that this approach is optimal.</p>
<p>The above strategy is for fixed hashrates. When they are not fixed, but instead we can also choose the proportion of hardware allocated for the evaluation of each hash function, optimizing these proportions such that the combined hashrate gets maximal can be done numerically. As we have shown in our paper, it turns out that for best results the hashrates must be balanced, hence the name <em>Proof of Balanced Work</em> (PoBW).</p>
<doc-anchor-target id="decentralization-through-breaking-specialization">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#decentralization-through-breaking-specialization">#</doc-anchor-trigger>
        <span>Decentralization through breaking Specialization</span>
    </h3>
</doc-anchor-target>
<p>At this point you may ask why we should make mining so complicated with different hash functions multiplied, multi-stage mining based on a filtering approach, and optimization problems. The answer to this question is decentralization through breaking specialization.</p>
<p>Over the years, as mining got increasingly professionalized, the ordinary miners lost a lot of ground to the industrial mining farms. We believe that with Proof of Balanced Work, we have found a way to reverse this unfortunate trend and bring crypto mining back to the people. The essential way to achieve this goal is to carefully select the hash functions that we combine in PoBW in a way that cover&#x27;s consumer hardware&#x27;s strengths. Since efficient mining requires efficient evaluation of all involved functions, this essentially means that we are defining a <em>set of strengths</em> that a device must support for mining PoBW in contrast to <em>a single strength</em> in traditional PoW. If only one of these strengths is not present, mining will be negatively impacted.</p>
<p>This is the huge advantage that PoBW has to offer: it allows us to target specific hardware and exclude farms from mining efficiently when they don&#x27;t support all requirements that we picked the combined hash functions for. In this sense PoBW indeed breaks specialized actors&#x27; access to mining for the greater good of fair and equal mining democratization bringing us closer to Satoshi&#x27;s original goal of &quot;one-CPU-one-vote&quot; than ever before.</p>
<doc-anchor-target id="janushash">
    <h2>
        <doc-anchor-trigger class="header-anchor-trigger" to="#janushash">#</doc-anchor-trigger>
        <span>Janushash</span>
    </h2>
</doc-anchor-target>
<doc-anchor-target id="algorithm-design">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#algorithm-design">#</doc-anchor-trigger>
        <span>Algorithm Design</span>
    </h3>
</doc-anchor-target>
<p>Janushash is a PoBW algorithm and as such it combines several hash functions. Specifically, to create a mining algorithm which requires both, CPU and GPU, for efficient mining we have carefully selected and combined two hash functions Sha256t and Verushash v2.2. This yields Janushash, Warthog&#x27;s unique and world&#x27;s first PoBW mining algorithm, the first one to require CPU and GPU hardware.</p>
<p>Compared to the general PoBW description above there exists subtle differences in the way the two hash functions are combined  that we implemented for two reasons:</p>
<ol>
<li><p><strong>Pool mining</strong>
Fair pool mining requires a method to scale the difficulty such that every participant is affected proportionally irrespective of the individual hashrate combinations they are mining at. Unfortunately, with standard PoBW this is not the case when only the difficulty is scaled by the pool and instead a complicated acceptance region for shares would need to be implemented on the pool side for each difficulty. For the creation of pools and for adaption this is a major barrier which is why a slight modification was necessary.</p>
</li>
<li><p><strong>Diminishing returns:</strong>
For fixed CPU hashrate on Verushash the combined Janushash hashrate is hard-capped no matter how much GPU hashrate we have. This protects the Janushash algorithm from offloading the Sha256t computations to a specialized device like ASICs or FPGAs as their use will provide only marginal improvements over GPU usage when the Verus hashrate is not scaled as well.</p>
</li>
</ol>
<doc-anchor-target id="mining-janushash">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#mining-janushash">#</doc-anchor-trigger>
        <span>Mining Janushash</span>
    </h3>
</doc-anchor-target>
<p>Due to hardware strengths it makes sense to evaluate Sha256t hashes on GPUs, and Verushash on CPUs. Since Verus hashrate is usually much lower than Sha256t hashrate, we have to decide depending on Sha256t outputs for which blocks it is worth to also compute the Verus hash because only when we have computed both hashes we can decide whether we mined the block and Verushash is the bottle-neck here. As we want to bring down the hash product, obviously it is optimal to pick those blocks for CPU hashing that have a small Sha256t value and discard those with a high value.</p>
<p>This shows that we need to use the GPU hardware as a filter that decides whether to send a candidate to the CPU side depending on the Sha256t output. The filter needs to be tuned such that it releases candidates exactly at the hashrate that the CPU can process. This implicitly requires a certain bandwidth between GPU and CPU which specifies an additional requirement on the hardware and ties Janushash more to its intended mining environment, i.e. the Gaming PCs.</p>
<doc-anchor-target id="the-choice-of-the-combined-hash-functions">
    <h3>
        <doc-anchor-trigger class="header-anchor-trigger" to="#the-choice-of-the-combined-hash-functions">#</doc-anchor-trigger>
        <span>The choice of the combined hash functions</span>
    </h3>
</doc-anchor-target>
<p>We have chosen Verushash particularly over other CPU-friendly hash functions like RandomX because the relatively high hashrate of Verushash implies a reasonably high bandwidth requirement. Without this requirement it would be feasible to create pools that provide non-intended work-sharing, where some participants perform only GPU mining and others do CPU mining. This would destroy Janushash&#x27;s focus on Gaming PCs, which is the main selling point that excludes specialized GPU farms or botnets and brings us closer to Satoshi&#x27;s original vision of mining democratization and decentralization.</p>
<p>Furthermore the GPU hash function needs to be clearly faster to evaluate across all scenarios to ensure that it makes sense to use the GPU side as a filter for the CPU evaluation. Since the CPU hashrate on Verushash is in the MH/s range, the GPU hashrate should be in the GH/s range and there are very few such GPU-friendly hash functions. That&#x27;s why we have chosen Sha256t.</p>

                                
                                <!-- Required only on API pages -->
                                <doc-toolbar-member-filter-no-results></doc-toolbar-member-filter-no-results>
                            </div>
                            <footer class="clear-both">
                                <div class="flex flex-wrap items-center justify-between mt-14">
                                    <a class="my-2.5 inline-flex items-center text-sm whitespace-nowrap text-blue-500 dark:text-blue-400 hover:text-blue-700 hover:underline" href="https://github.com/warthog-network/docs/blob/master/Janushash/highlevel.md" target="_blank" rel="noopener">
                                        <svg class="mr-1.5" xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M20 12c-.55 0-1 .45-1 1v7c0 .55-.45 1-1 1H4c-.55 0-1-.45-1-1V6c0-.55.45-1 1-1h7c.55 0 1-.45 1-1s-.45-1-1-1H4C2.35 3 1 4.35 1 6v14c0 1.65 1.35 3 3 3h14c1.65 0 3-1.35 3-3v-7c0-.55-.45-1-1-1z" /><path d="M22.21 1.79c-1.18-1.18-3.24-1.18-4.41 0l-9.5 9.5c-.13.13-.22.29-.26.46l-1 4c-.08.34.01.7.26.95.18.2.44.3.7.3.08 0 .16-.01.24-.03l4-1c.18-.04.34-.13.46-.26l9.5-9.5c1.22-1.22 1.22-3.2.01-4.42zm-1.42 3l-9.3 9.3-2.11.53.53-2.11 9.3-9.3c.42-.42 1.16-.42 1.59 0 .43.43.43 1.15-.01 1.58z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        <span>Edit on GitHub</span>
                                    </a>
                                </div>
                            
                                <nav class="flex mt-14">
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 h-full flex items-center break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-l-lg transition-colors duration-150 relative hover:z-5" href="../../janushash/analysis/hashrate-ratio/">
                                            <svg xmlns="http://www.w3.org/2000/svg" class="mr-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19 11H7.41l5.29-5.29a.996.996 0 10-1.41-1.41l-7 7a1 1 0 000 1.42l7 7a1.024 1.024 0 001.42-.01.996.996 0 000-1.41L7.41 13H19c.55 0 1-.45 1-1s-.45-1-1-1z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                            <span>
                                                <span class="block text-xs font-normal text-gray-400 dark:text-dark-400">Previous</span>
                                                <span class="block mt-1">Hashrate Ratio</span>
                                            </span>
                                        </a>
                                    </div>
                            
                                    <div class="w-1/2">
                                        <a class="px-5 py-4 -mx-px h-full flex items-center justify-end break-normal font-medium text-blue-500 dark:text-blue-400 border border-gray-300 hover:border-gray-400 dark:border-dark-650 dark:hover:border-dark-450 rounded-r-lg transition-colors duration-150 relative hover:z-5" href="../../guides/bridge-node-setup/">
                                            <span>
                                                <span class="block text-xs font-normal text-right text-gray-400 dark:text-dark-400">Next</span>
                                                <span class="block mt-1">Bridge Node Setup</span>
                                            </span>
                                            <svg xmlns="http://www.w3.org/2000/svg" class="ml-3" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" overflow="visible"><path d="M19.92 12.38a1 1 0 00-.22-1.09l-7-7a.996.996 0 10-1.41 1.41l5.3 5.3H5c-.55 0-1 .45-1 1s.45 1 1 1h11.59l-5.29 5.29a.996.996 0 000 1.41c.19.2.44.3.7.3s.51-.1.71-.29l7-7c.09-.09.16-.21.21-.33z" /><path fill="none" d="M0 0h24v24H0z" /></svg>
                                        </a>
                                    </div>
                                </nav>
                            </footer>
                        </main>
                
                        <div class="border-t dark:border-dark-650 pt-6 mb-8">
                            <footer class="flex flex-wrap items-center justify-between">
                                <div>
                                    <ul class="flex flex-wrap items-center text-sm">
                                    </ul>
                                </div>
                                <div class="docs-copyright py-2 text-gray-500 dark:text-dark-350 text-sm leading-relaxed"><p>Â© Warthog Network 2024.</p></div>
                            </footer>
                        </div>
                    </div>
                
                    <!-- Rendered if sidebar right is enabled -->
                    <!-- Sidebar right skeleton-->
                    <div v-cloak class="fixed top-0 bottom-0 right-0 translate-x-full bg-white border-gray-200 lg:sticky lg:border-l lg:shrink-0 lg:pt-6 lg:transform-none sm:w-1/2 lg:w-64 lg:z-0 md:w-104 sidebar-right skeleton dark:bg-dark-850 dark:border-dark-650">
                        <div class="pl-5">
                            <div class="w-32 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-48 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                            <div class="w-40 h-3 mb-4 bg-gray-200 dark:bg-dark-600 rounded-full loading"></div>
                        </div>
                    </div>
                
                    <!-- User should be able to hide sidebar right -->
                    <doc-sidebar-right v-cloak></doc-sidebar-right>
                </div>

            </div>
        </div>
    
        <doc-search-mobile></doc-search-mobile>
        <doc-back-to-top></doc-back-to-top>
    </div>


    <div id="docs-overlay-target"></div>

    <script data-cfasync="false">window.__DOCS__ = { "title": "Janushash made simple", level: 2, icon: "file", hasPrism: false, hasMermaid: false, hasMath: false, tocDepth: 23 }</script>
</body>
</html>
